<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>内容管理系统</title>
	<link rel="favicon" href="/Public/assets/images/favicon.png">
	<link rel="stylesheet" href="/Public/assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="/Public/assets/css/font-awesome.min.css"> 
	<link rel="stylesheet" href="/Public/assets/css/bootstrap-theme.css" media="screen"> 
	<link rel="stylesheet" href="/Public/assets/css/style.css">
    <link rel='stylesheet' id='camera-css'  href='/Public/assets/css/camera.css' type='text/css' media='all'> 
	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	<script src="/Public/assets/js/html5shiv.js"></script>
	<script src="/Public/assets/js/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<!-- Fixed navbar -->
	<div class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<!-- Button for smallest screens -->
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
				<a class="navbar-brand" href="index.html">
					<img src="/Public/assets/images/logo.png" alt="Techro HTML5 template"></a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav pull-right mainNav">
					<li   ><a href="/index.php/Home/Index/index.html">首页</a></li><li   ><a href="/index.php/Home/Index/about.html">关于我们</a></li><li class="active"  ><a href="/index.php/Home/Index/classes.html">课程中心</a></li><li   ><a href="/index.php/Home/Index/contact.html">联系我们</a></li><li   ><a href="/index.php/Home/Index/download.html">资源下载</a></li>				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</div>
	<!-- /.navbar -->

<header id="head" class="secondary">
    <div class="container">
        <h1>课程中心</h1>
    </div>
</header>

    
	<div id="courses">
		<section class="container">
			<div class="row">

			<!-- Article main content -->
			<article class="col-md-8 maincontent">
				<br>
				<br>
				<table style="text-align: center;" width="100%">
					<tr><td><h2>Redis详解(一)</h2></td></tr>
					<tr align="center"><td>
						作者：佚名&nbsp;&nbsp;&nbsp;
						分类：NoSQL&nbsp;&nbsp;&nbsp;
						点击率：29&nbsp;&nbsp;&nbsp;
						发布日期：2017-01-19 19:40:52					</td></tr>
					<tr>
						<td style='text-align:left;'>
						<p><p>
    <br />
</p>
<h2 style="font-size:20px;font-family:Helvetica, &quot;">
    <p>
        <span></span> 
    </p>
</h2>
<h2 style="font-size:20px;font-family:Helvetica, &quot;">
    一、具体使用
</h2>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    1. key的操作
</h3>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    2. String类型
</h3>
<blockquote style="color:#AAAAAA;font-family:Helvetica, &quot;font-size:15px;">
    <p>
        string是redis最基本的类型
    </p>
</blockquote>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    redis的string可以包含任何数据。包括jpg图片或者序列化的对象。&nbsp;<br />
单个value值最大上限是1G字节。
</p>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    3. list链表类型
</h3>
<blockquote style="color:#AAAAAA;font-family:Helvetica, &quot;font-size:15px;">
    <p>
        list类型其实就是一个双向链表。通过push,pop操作从链表的头部或者尾部添加删除元素。
    </p>
</blockquote>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    这使得list既可以用作栈，也可以用作队列。&nbsp;<br />
上进上出 ：栈&nbsp;<br />
上进下出 ：队列
</p>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    4. set集合类型
</h3>
<blockquote style="color:#AAAAAA;font-family:Helvetica, &quot;font-size:15px;">
    <p>
        set类型是string类型的无序集合
    </p>
</blockquote>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    set元素最大可包含(2的32次方-1)个元素&nbsp;<br />
关于set集合类型除了基本的添加、删除操作，其他有用的操作还包含集合的取并集(union)，交集(intersection)，差集(difference)。通过这些操作可以很容易的实现sns中的好友推荐功能。&nbsp;<br />
<strong>注意</strong>：每个集合中的各个元素不能重复&nbsp;<br />
该类型应用场景：QQ好友推荐
</p>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    5. Sort Set 排序集合类型
</h3>
<blockquote style="color:#AAAAAA;font-family:Helvetica, &quot;font-size:15px;">
    <p>
        该类型是两种类型(list和set)的集中体现，称为排序集合类型
    </p>
</blockquote>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    每个元素都会关联一个权，通过权/值可以有序的获取集合中的元素
</p>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    6. hash类型
</h3>
<h2 style="font-size:20px;font-family:Helvetica, &quot;">
    二、持久化功能
</h2>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    redis(nosql产品)为了内部安全考虑，会把本身的数据以文件的形式保存到硬盘当中去
</p>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    1. sanp shotting快照持久化(RDB)
</h3>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    该持久化默认开启，一次性把redis中的全部数据保存一分存储在硬盘中，如果数据非常多(10-20G)就不适合频繁进行该持久化操作
</p>
<ul style="font-family:Helvetica, &quot;font-size:15px;">
    <li>
        备份文件：当前目录下的dump.rdb
    </li>
    <li>
        备份机制(频率)：redis.conf中：&nbsp;<br />
save&nbsp;900 1 #900 秒内如果超过 1 个 key 被修改，则发起快照保存&nbsp;<br />
save 300 10 #300秒超过10个key被修改，发起快照&nbsp;<br />
save 60 10000 #60秒超过10000个key被修改，发起快照&nbsp;<br />
以上三个备份频率需要同时存在：&nbsp;<br />
数据变化非常快的时候，就快点做备份(<strong>保证数据安全</strong>)&nbsp;<br />
数据变化慢的时候，就慢点做备份(<strong>节省服务器资源</strong>)
    </li>
</ul>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    2. append only file （AOF持久化）
</h3>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    本质：把用户执行的每个“写”指令(添加、修改、删除)都备份到文件中，还原数据的时候就是执行具体写指令而已
</p>
<ul style="font-family:Helvetica, &quot;font-size:15px;">
    <li>
        在redis.conf文件中打开AOF持久化
    </li>
</ul>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    注意：<strong>AOF持久化开启的时候会自动清除目前redis中的全部数据</strong> 
</p>
<ul style="font-family:Helvetica, &quot;font-size:15px;">
    <li>
        AOF备份的频率：&nbsp;
        <p>
            <br />
        </p>
        <h1>
            appendfsync always //每次收到写命令就立即强制写入磁盘，最慢的，但是保证完全的持久化，不推荐使用&nbsp;<br />
        </h1>
        <p>
            appendfsync everysec&nbsp;//每秒钟强制写入磁盘一次，在性能和持久化方面做了很好的折中，推荐&nbsp;
        </p>
        <h1>
            appendfsync no //完全依赖 os，性能最好,持久化没保证
        </h1>
<pre>&lt;/li&gt;</pre>
        <p>
            <br />
        </p>
    </li>
</ul>
<h4 style="font-size:17px;font-family:Helvetica, &quot;">
    2.1 对AOF备份文件做优化压缩处理
</h4>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    例如：可以讲多个incr指令换位一个set指令
</p>
<h2 style="font-size:20px;font-family:Helvetica, &quot;">
    三、redis 的主从模式
</h2>
<h2 style="font-size:20px;font-family:Helvetica, &quot;">
    四、PHP与Redis结合
</h2>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    1. 安装phpredis扩展
</h3>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    2. 通过php操作redis
</h3>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    3. 通过反射查看redis中的可操作方法
</h3>
<h2 style="font-size:20px;font-family:Helvetica, &quot;">
    五、内存优化
</h2>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    1. 监控内存使用情况
</h3>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    2. 优化存储结构
</h3>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    <strong>hash中的value是以hashmap存储的，hashmap成员较少或者长度较少，会压缩，ziplist</strong> 
</p>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    <strong>list和set</strong> 
</p>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    这些值不是越大越好，hash查找操作的时间复杂度O(1)，ziplist查找和操作是O(N)，时间和空间权衡
</p>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    3. 限制使用的最大内存
</h3>
<p style="font-size:15px;font-family:Helvetica, &quot;">
    <strong>物理内存使用过多，使用swap分区，Redis奔溃，所以不能够使用过多物理内存，使用物理内存过多，任何写操作都执行数据清除策略</strong>&nbsp;<br />
maxmemory-policy 指定数据清除策略
</p>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    4. 设置过期优化
</h3>
<h3 style="font-size:18px;font-family:Helvetica, &quot;">
    5. 删除数据的两种策略
</h3>
<ol style="font-family:Helvetica, &quot;font-size:15px;">
    <li>
        惰性删除&nbsp;<br />
发现Key过期，则删除Key&nbsp;<br />
好处是不用占据过多CPU资源，只有操作Key才检查。&nbsp;<br />
坏处是大量过期Key存在的话，占用大量内存空间。&nbsp;<br />
冷数据没法及时删除
    </li>
    <li>
        定期删除 设置时间主动检查&nbsp;<br />
好处，不会有大量过期的Key&nbsp;<br />
坏处，占据太多CPU<span></span> 
    </li>
</ol>
<p>
    <br />
</p>
<h2 style="font-size:20px;font-family:Helvetica, &quot;">
    <p>
        <br />
    </p>
</h2>
<p>
    <br />
</p></p>
						</td>
					</tr>
				</table>
				
			</article>
			<!-- /Article -->

			<!-- Sidebar -->
			<aside class="col-md-4 sidebar sidebar-right">
				<div class="row panel">
				<div class="col-xs-12">
						<h3>数据结构和算法</h3>
						<p><a href="http://www.mytp.com/classes/66.html">数据结构总览</a></p>					</div><div class="col-xs-12">
						<h3>MySQL</h3>
						<p><a href="http://www.mytp.com/classes/65.html">MySQL优化</a></p>					</div><div class="col-xs-12">
						<h3>日常</h3>
						<p><a href="http://www.mytp.com/classes/68.html">面试技巧和项目分析</a></p><p><a href="http://www.mytp.com/classes/69.html">职业方向划分</a></p>					</div><div class="col-xs-12">
						<h3>Linux</h3>
						<p><a href="http://www.mytp.com/classes/59.html">初步了解Linux</a></p>					</div><div class="col-xs-12">
						<h3>Java</h3>
						<p><a href="http://www.mytp.com/classes/67.html">JVM虚拟机</a></p>					</div><div class="col-xs-12">
						<h3>NoSQL</h3>
						<p><a href="http://www.mytp.com/classes/63.html">Redis详解(二)</a></p><p><a href="http://www.mytp.com/classes/64.html">Redis详解(一)</a></p><p><a href="http://www.mytp.com/classes/76.html">mysql优化测试</a></p>					</div>				</div>
			</aside>
			<!-- /Sidebar -->

		</div>

		</section>
	</div>
    
 <footer id="footer">
 
		<div class="container">
   <div class="row">
  <div class="footerbottom">
    <div class="col-md-4 col-sm-6">
      <div class="footerwidget">
        <h4>
          关注我们
        </h4>
        <img class="img-responsive" src="/Public/Uploads/Setting/20170121/588358c437adb.png" style="width: 120px;">
      </div>
    </div>
    <div class="col-md-4 col-sm-6">
      <div class="footerwidget">
        <h4>
          技术服务
        </h4>
        <div class="menu-course">
          <ul class="menu">
            <li> 
              售前小组：9:00-18:00
            </li>
            <li>
              售后小组：9:00-18:00
            </li>
            <li>
              应急小组：24小时×365天
            </li>
            <li>
              应急电话：010-12345678
            </li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="col-md-4 col-sm-6"> 
            	<div class="footerwidget"> 
                <h4>联系我们</h4> 
                <p>春招集训营</p>
            <div class="contact-info"> 
            QQ：695933122<br/>
            <i class="fa fa-map-marker"></i>&nbsp;&nbsp;北京市朝阳区<br>
            <i class="fa fa-phone"></i>&nbsp;051-6078955<br>
             <i class="fa fa-envelope-o"></i>&nbsp;zqmath@126.com              </div> 
                </div><!-- end widget --> 
    </div>
  </div>
</div>
			<div class="social text-center">
				<a href="#"><i class="fa fa-twitter"></i></a>
				<a href="#"><i class="fa fa-facebook"></i></a>
				<a href="#"><i class="fa fa-dribbble"></i></a>
				<a href="#"><i class="fa fa-flickr"></i></a>
				<a href="#"><i class="fa fa-github"></i></a>
			</div>

			<div class="clear"></div>
			<!--CLEAR FLOATS-->
		</div>
		<div class="footer2">
			<div class="container">
				<div class="row">
					<div class="col-md-12 panel">
						<div class="panel-body">
							<p class="text-center">
								Copyright © 2017. pww版权所有							</p>
						</div>
					</div>

				</div>
				<!-- /row of panels -->
			</div>
		</div>
	</footer>

	<!-- JavaScript libs are placed at the end of the document so the pages load faster -->
	<script src="/Public/assets/js/modernizr-latest.js"></script> 
	<script type='text/javascript' src='/Public/assets/js/jquery.min.js'></script>
    <script type='text/javascript' src='/Public/assets/js/fancybox/jquery.fancybox.pack.js'></script>
    
    <script type='text/javascript' src='/Public/assets/js/jquery.mobile.customized.min.js'></script>
    <script type='text/javascript' src='/Public/assets/js/jquery.easing.1.3.js'></script> 
    <script type='text/javascript' src='/Public/assets/js/camera.min.js'></script> 
    <script src="/Public/assets/js/bootstrap.min.js"></script> 
	<script src="/Public/assets/js/custom.js"></script>
    <script>
		jQuery(function(){
			
			jQuery('#camera_wrap_4').camera({
                transPeriod: 500,
                time: 3000,
				height: '600',
				loader: 'false',
				pagination: true,
				thumbnails: false,
				hover: false,
                playPause: false,
                navigation: false,
				opacityOnGrid: false,
				imagePath: '/Public/assets/images/'
			});

		});
      
	</script>
    
</body>
</html>